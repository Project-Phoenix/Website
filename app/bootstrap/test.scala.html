@(title : String)(lectureTitles : List[de.phoenix.rs.entity.titleonly.LectureTitle])

@head = {
<style type="text/css"> 
.navbar{
	opacity: 0.5;
}
.lectureNavs{
	z-index:999;
	position:absolut;
	top:50px;
	display:none;
}
.groupNavs{
	z-index:998;
	position:absolut;
	top:100px;
	display:none;
}

.taskSheetNavs{
	z-index:997;
	position:absolut;
	top:150px;
	display:none;
}
.show{
	display:run-in;
}
</style>
}

@Structure(title)(head){
<form action="/menu" method="post" id="menuForm">
	<input type=hidden id=hiddenLecture name=lecture value="">
	<input type=hidden id=hiddenGroup name=group value="">
	@for(lecture <- lectureTitles){
		@for(group <- lecture.getGroupTitles()){
			<nav class="navbar navbar-default navbar-fixed-top taskSheetNavs" role="navigation" id="@lecture.getTitle().replaceAll("""\s""","popel1215")@group.getTitle().replaceAll("""\s""","popel1215")">
			  <div class="container">
			    <div class="collapse navbar-collapse collapse-buttons">
					@for(taskSheet <- group.getTaskSheetTitles()){
				       	<div class="navbar-header">
			        		<a class="navbar-brand taskSheetButtons" href="#" name="@taskSheet.getTitle()">@taskSheet.getTitle()</a>
			      		</div>		
					}
			    </div>
			  </div>
			</nav>
		}
	}
	@for(lecture <- lectureTitles){
		<nav class="navbar navbar-default navbar-fixed-top groupNavs" role="navigation" id="@lecture.getTitle().replaceAll("""\s""","popel1215")">
		  <div class="container">
		    <div class="collapse navbar-collapse collapse-buttons">
				@for(group <- lecture.getGroupTitles()){
			       	<div class="navbar-header">
		        		<a class="navbar-brand groupButtons" href="#" name="@lecture.getTitle()@group.getTitle()">@group.getTitle()</a>
		      		</div>		
				}
		    </div>
		  </div>
		</nav>
	}
	<nav class="navbar navbar-default navbar-fixed-top lectureNavs toggled" role="navigation" id="lectures">
	  <div class="container">
	    <div class="collapse navbar-collapse collapse-buttons">
	        @for(lectureTitle <- lectureTitles){
	      	    <div class="navbar-header">
	        		<a class="navbar-brand lectureButtons" href="#" name="@lectureTitle.getTitle()">@lectureTitle.getTitle()</a>
	      		</div>
	      	}
	    </div>
	  </div>
	</nav>

	<nav class="navbar navbar-default navbar-fixed-top" role="navigation" id="top">
	  <div class="container">
	    <div class="navbar-header">
   	      <a class="navbar-brand" href="#" id="home">Home</a>
   	      <a class="navbar-brand" href="#" id="lecturesLink">Veranstaltungen</a>
  	      <a class="navbar-brand" href="#" id="options">Verwalten</a>
	    </div>
	  </div>
	</nav>
</form>

<script type="text/javascript">
$(document).ready(function(){
	var toggleGroupNav = 0;
	var toggleTaskSheetNav = 0;
	$('#lecturesLink').click(function(e){
		e.preventDefault();
        $('.toggled').toggle();
        $('.toggled').not('#lectures').removeClass('toggled');
        $('.toggled2').removeClass('toggled2');
       	$('.groupToggled').removeClass('groupToggled');
       	$('.taskSheetToggled').removeClass('taskSheetToggled');
	});   

	$('.lectureButtons').click(function(e){
		var name = $(this).attr('name').replace(/\s/g, 'popel1215');
		if(toggleGroupNav === 0){
			toggleGroupNav = 1;
			$("#"+name).addClass('toggled');
		}else{
			if($("#"+name).hasClass('toggled')){
				toggleGroupNav = 0;
				$("#"+name).removeClass('toggled');
			}else{
				$('.groupNavs').removeClass('toggled');
				$('.taskSheetNavs').removeClass('toggled');
				$("#"+name).addClass('toggled');
			}
		}		
		e.preventDefault();

		$("#"+name).addClass('groupToggled');
       	$('.groupToggled').toggle();	
       	$('.groupToggled').not("#"+name).removeClass('groupToggled');
        $('.toggled2').toggle();
        $('.toggled2').removeClass('toggled2');
       	$('.taskSheetToggled').removeClass('taskSheetToggled');
   	})

  	.dblclick(function(e){
		e.preventDefault();
		$('#hiddenLecture').val($(this).attr('name'));
		$('#menuForm').submit();
   	});
   	
	$('.groupButtons').click(function(e){
		var name = $(this).attr('name').replace(/\s/g, 'popel1215');
		if(toggleTaskSheetNav === 0){
			toggleTaskSheetNav = 1;
			$("#"+name).addClass('toggled');
			$("#"+name).addClass('toggled2');
		}else{
			if($("#"+name).hasClass('toggled')){
				toggleTaskSheetNav = 0;
				$("#"+name).removeClass('toggled');
			}else{
				$('.taskSheetNavs').removeClass('toggled');
				$("#"+name).addClass('toggled');
			}
			if($("#"+name).hasClass('toggled2')){
				toggleTaskSheetNav = 0;
				$("#"+name).removeClass('toggled2');
			}else{
				$('.taskSheetNavs').removeClass('toggled2');
				$("#"+name).addClass('toggled2');
			}
		}
		e.preventDefault();

		$("#"+name).addClass('taskSheetToggled');
       	$('.taskSheetToggled').toggle();	
       	$('.taskSheetToggled').not("#"+name).removeClass('taskSheetToggled');
       	
   	})

  	.dblclick(function(e){
		e.preventDefault();
		$('#hiddenLecture').val($(this).attr('name'));
		$('#menuForm').submit();
   	});
});
	
</script>
}